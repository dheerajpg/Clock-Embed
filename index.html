<script>
        var darkModeToggle = document.getElementById('darkModeToggle');
        var flipClock = document.querySelector('.flip-clock');
        var timezoneSelect = document.getElementById('timezone');

        // Function to convert the date to the selected timezone
        function convertTimezone(date, timezone) {
            var options = { timeZone: timezone };
            return new Date(date.toLocaleString('en-US', options));
        }

        // Function to update the clock display
        function updateClock(timezone) {
            var currentTime = new Date();
            // Convert the current time to the selected timezone
            currentTime = convertTimezone(currentTime, timezone);

            var hours = currentTime.getHours();
            var minutes = currentTime.getMinutes();
            var seconds = currentTime.getSeconds();

            document.getElementById('hours-tens').textContent = (hours / 10 | 0) || '0';
            document.getElementById('hours-ones').textContent = hours % 10 || '0';
            document.getElementById('minutes-tens').textContent = (minutes / 10 | 0) || '0';
            document.getElementById('minutes-ones').textContent = minutes % 10 || '0';
            document.getElementById('seconds-tens').textContent = (seconds / 10 | 0) || '0';
            document.getElementById('seconds-ones').textContent = seconds % 10 || '0';
        }

        // Event listener for dark mode toggle
        darkModeToggle.addEventListener('change', function() {
            if (this.checked) {
                flipClock.classList.add('dark-mode');
                document.body.style.backgroundColor = '#333333';
                localStorage.setItem('darkMode', 'true');
            } else {
                flipClock.classList.remove('dark-mode');
                document.body.style.backgroundColor = '#f2f2f2';
                localStorage.setItem('darkMode', 'false');
            }
        });

        // Event listener for timezone select
        timezoneSelect.addEventListener('change', function() {
            var selectedTimezone = timezoneSelect.value;
            localStorage.setItem('selectedTimezone', selectedTimezone);
            updateClock(selectedTimezone);
        });

        // Load the saved timezone and dark mode state from local storage
        window.addEventListener('load', function() {
            var selectedTimezone = localStorage.getItem('selectedTimezone');
            var darkMode = localStorage.getItem('darkMode');
            if (selectedTimezone) {
                timezoneSelect.value = selectedTimezone;
            }
            if (darkMode === 'true') {
                flipClock.classList.add('dark-mode');
                document.body.style.backgroundColor = '#333333';
                darkModeToggle.checked = true;
            }
            updateClock(selectedTimezone);
        });

        // Update the clock every second
        setInterval(function() {
            var selectedTimezone = timezoneSelect.value;
            updateClock(selectedTimezone);
        }, 1000);
    </script>
</body>
</html>
